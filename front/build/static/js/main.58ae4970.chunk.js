(this.webpackJsonptoktok=this.webpackJsonptoktok||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/logoWhiteRed.9d2eda86.png"},33:function(e,t,a){},39:function(e,t,a){e.exports=a(96)},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),o=a(13),s=a(8),i=a(9),c=a(11),m=a(10),d=a(2),u=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(d.a,{to:"/"})}}]),a}(l.a.Component),h=a(12),g=a(16),p=a.n(g),f=a(14),E=a.n(f),v=(a(33),a(17)),C=a.n(v),b=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).signOut=function(){localStorage.setItem("email",null),localStorage.setItem("secretKey",null)},n.handleLogin=function(e){e.preventDefault(),n.setState({loading:!0}),n.state.email.toLowerCase().trim().length<=0||n.state.password.length<=0?n.setState({loading:!1,error:"fields cannot be blank"}):E.a.post("/loginRequest",{email:n.state.email.toLowerCase().trim(),password:n.state.password}).then((function(e){if("success"===e.data.message){var t=e.data.secret;localStorage.setItem("secretKey",t),localStorage.setItem("email",n.state.email.toLowerCase().trim()),n.setState({redirect:!0})}else n.setState({error:e.data.message});n.setState({loading:!1})}),(function(e){n.setState({loading:!1,error:e})}))},n.handleEmailChange=function(e){n.setState({email:e.target.value})},n.handlePasswordChange=function(e){n.setState({password:e.target.value})},n.state={loading:!1,redirect:!1,email:"",password:"",error:""},n.handleEmailChange=n.handleEmailChange.bind(Object(h.a)(n)),n.handlePasswordChange=n.handlePasswordChange.bind(Object(h.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.signOut()}},{key:"render",value:function(){var e=this.state,t=e.redirect;if(e.loading)return l.a.createElement("div",{className:"flexContainer primaryColor"},l.a.createElement("div",{className:"loader"},l.a.createElement(p.a,{type:"Bars",color:"white",height:100,width:100})));if(t)return l.a.createElement(d.a,{to:"/"});var a=function(){return l.a.createElement("div",{className:"navbar"},l.a.createElement("div",{className:"navbar-item clickable bottomBorder"},"Login"),l.a.createElement(o.b,{to:"/signup",className:"navbar-item clickable noBottomBorder",style:{textDecoration:"none"}},"Sign Up"))};return l.a.createElement("div",{className:"flexContainer"},l.a.createElement("div",{className:"halfColumn primaryColor centerColumnItems"},l.a.createElement("h1",{className:"logoTitle"},"TOKTOK"),l.a.createElement("h2",{className:"logoSubtitle"},"keep track of everything")),l.a.createElement("div",{className:"halfColumn"},l.a.createElement("div",{className:"loginFormContainer"},l.a.createElement(a,null),l.a.createElement("form",{onSubmit:this.handleLogin,className:"form"},l.a.createElement("input",{className:"emailInput",type:"email",placeholder:"Email",onChange:this.handleEmailChange}),l.a.createElement("input",{className:"passwordInput",type:"password",placeholder:"Password",onChange:this.handlePasswordChange}),l.a.createElement("div",{className:"error"},this.state.error),l.a.createElement("input",{className:"loginBtn clickable",type:"submit",value:"SIGN IN"})))),l.a.createElement("img",{className:"logoImage",src:C.a,alt:"logo"}))}}]),a}(l.a.Component),w=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).signOut=function(){localStorage.setItem("email",null),localStorage.setItem("secretKey",null)},n.handleSignUp=function(e){e.preventDefault(),n.setState({loading:!0}),n.state.email.toLowerCase().trim().length<=0||n.state.password.length<=0?n.setState({loading:!1,error:"fields cannot be blank"}):n.state.password.length<=5?n.setState({loading:!1,error:"password must be at least 6 characters long"}):n.state.password!==n.state.confirmPassword?n.setState({loading:!1,error:"passwords do not match"}):E.a.post("/signupRequest",{email:n.state.email.toLowerCase().trim(),password:n.state.password}).then((function(e){if("success"===e.data.message){var t=e.data.secret;localStorage.setItem("secretKey",t),localStorage.setItem("email",n.state.email.toLowerCase().trim()),n.setState({redirect:!0})}else n.setState({error:e.data.message});n.setState({loading:!1})}),(function(e){n.setState({loading:!1,error:e})}))},n.handleEmailChange=function(e){n.setState({email:e.target.value})},n.handlePasswordChange=function(e){n.setState({password:e.target.value})},n.handleConfirmPasswordChange=function(e){n.setState({confirmPassword:e.target.value})},n.state={loading:!1,redirect:!1,email:"",password:"",confirmPassword:"",error:""},n.handleEmailChange=n.handleEmailChange.bind(Object(h.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.signOut()}},{key:"render",value:function(){var e=this.state,t=e.redirect;if(e.loading)return l.a.createElement("div",{className:"flexContainer primaryColor"},l.a.createElement("div",{className:"loader"},l.a.createElement(p.a,{type:"Bars",color:"white",height:100,width:100})));if(t)return l.a.createElement(d.a,{to:"/"});var a=function(){return l.a.createElement("div",{className:"navbar"},l.a.createElement(o.b,{to:"/login",className:"navbar-item clickable noBottomBorder",style:{textDecoration:"none"}},"Login"),l.a.createElement("div",{className:"navbar-item clickable bottomBorder"},"Sign Up"))};return l.a.createElement("div",{className:"flexContainer"},l.a.createElement("div",{className:"halfColumn primaryColor centerColumnItems"},l.a.createElement("h1",{className:"logoTitle"},"TOKTOK"),l.a.createElement("h2",{className:"logoSubtitle"},"keep track of everything")),l.a.createElement("div",{className:"halfColumn"},l.a.createElement("div",{className:"loginFormContainer"},l.a.createElement(a,null),l.a.createElement("form",{onSubmit:this.handleSignUp,className:"form"},l.a.createElement("input",{className:"emailInput",type:"email",placeholder:"Email",onChange:this.handleEmailChange}),l.a.createElement("input",{className:"passwordInput",type:"password",placeholder:"Password",onChange:this.handlePasswordChange}),l.a.createElement("input",{className:"passwordInput",type:"password",placeholder:"Confirm password",onChange:this.handleConfirmPasswordChange}),l.a.createElement("div",{className:"error"},this.state.error),l.a.createElement("input",{className:"loginBtn clickable",type:"submit",value:"SIGN UP"})))),l.a.createElement("img",{className:"logoImage",src:C.a,alt:"logo"}))}}]),a}(l.a.Component),S=a(38),N=a.n(S),y=(a(94),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleDateChange=function(e){n.setState({modalDate:e.target.value})},n.handleTitleChange=function(e){n.setState({modalTitle:e.target.value})},n.updateTimers=function(){n.setState({})},n.getTimers=function(){void 0!==localStorage.getItem("email")?E.a.post("/getTimers",{email:localStorage.getItem("email")}).then((function(e){"success"===e.data.message?n.setState({timers:e.data.timers,loading:!1}):(alert("failure!"),n.setState({loading:!1}))}),(function(e){n.setState({loading:!1}),alert(e)})):n.setState({redirect:!0,loading:!1})},n.createTimer=function(){n.setState({loading:!0}),E.a.post("/createTimer",{email:localStorage.getItem("email"),timerTitle:n.state.modalTitle,timerDate:n.state.modalDate}).then((function(e){"success"===e.data.message?window.location.reload(!1):(alert(e.data.message),n.setState({loading:!1}))}),(function(e){n.setState({loading:!1})}))},n.autoLogin=function(){E.a.post("/verifyCredentials",{email:localStorage.getItem("email"),secretKey:localStorage.getItem("secretKey")}).then((function(e){"success"!==e.data.message?n.setState({loading:!1,redirect:!0}):(n.getTimers(),n.interval=setInterval(n.updateTimers,1e3))}),(function(e){n.setState({loading:!1})}))},n.signOut=function(){localStorage.setItem("email",null),localStorage.setItem("secretKey",null),n.setState({redirect:!0})},n.handleOpenModal=function(){n.setState({showModal:!0})},n.handleCloseModal=function(){n.setState({showModal:!1})},n.state={redirect:!1,loading:!0,timers:[],showModal:!1,modalTitle:"",modalDate:new Date},n.handleDateChange=n.handleDateChange.bind(Object(h.a)(n)),n.handleTitleChange=n.handleTitleChange.bind(Object(h.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.autoLogin()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.redirect;return e.loading?l.a.createElement("div",{className:"flexContainer primaryColor"},l.a.createElement("div",{className:"loader"},l.a.createElement(p.a,{type:"Bars",color:"white",height:100,width:100}))):t?l.a.createElement(d.a,{to:"/login"}):l.a.createElement("div",{className:"flexContainer centerFlex primaryColor topOffset"},l.a.createElement("button",{className:"addCounterBtn",onClick:this.handleOpenModal},"Add New Counter"),l.a.createElement(N.a,{isOpen:this.state.showModal,contentLabel:"Minimal Modal Example",className:"Modal",overlayClassName:"Overlay",onRequestClose:this.handleCloseModal,shouldCloseOnOverlayClick:!0},l.a.createElement("input",{className:"modalTitleInput",type:"text",placeholder:"Event Name",onChange:this.handleTitleChange}),l.a.createElement("input",{className:"modalDateInput",type:"date",placeholder:"Date",onChange:this.handleDateChange}),l.a.createElement("button",{onClick:this.createTimer,className:"createCounterBtn"},"Create Timer")),this.state.timers.map((function(e){var t=new Date,a=new Date(e.timerDate),n=e.timerTitle,r=Math.abs(t-a)/1e3,o=Math.floor(r/86400);r-=86400*o;var s=Math.floor(r/3600)%24;r-=3600*s;var i=Math.floor(r/60)%60;r-=60*i;var c=Math.round(r%60);return t>=a&&o<1?l.a.createElement("div",{className:"timerBox"},l.a.createElement("h2",null,n),l.a.createElement("h1",{className:"doneTimerText"},"TODAY")):t>=a?l.a.createElement("div",{className:"timerBox"},l.a.createElement("h2",null,n),l.a.createElement("h1",{className:"doneTimerText"},"PASSED")):l.a.createElement("div",{className:"timerBox"},l.a.createElement("h2",null,n),l.a.createElement("h1",null,o),l.a.createElement("p",null,"days"),l.a.createElement("div",{className:"timerBoxCountdowns"},l.a.createElement("div",{className:"countdown"},l.a.createElement("h1",null,s),l.a.createElement("p",null,"hours")),l.a.createElement("div",{className:"countdown"},l.a.createElement("h1",null,i),l.a.createElement("p",null,"minutes")),l.a.createElement("div",{className:"countdown"},l.a.createElement("h1",null,c),l.a.createElement("p",null,"seconds"))))})))}}]),a}(l.a.Component)),O=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){document.title="TokTok"}},{key:"render",value:function(){return l.a.createElement(d.d,null,l.a.createElement(d.b,{exact:!0,path:"/login",component:b}),l.a.createElement(d.b,{exact:!0,path:"/signup",component:w}),l.a.createElement(d.b,{exact:!0,path:"/",component:y}),l.a.createElement(d.b,{path:"*",component:u}))}}]),a}(l.a.Component);a(95);Object(r.render)(l.a.createElement(o.a,null,l.a.createElement(O,null)),document.querySelector("#root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.58ae4970.chunk.js.map